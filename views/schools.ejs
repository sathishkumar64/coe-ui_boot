<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="coe - back to school">
    <meta name="author" content="coe">

    <title>COE - Back To School</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet'
        type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet">

</head>

<body id="page-top">

    <% include ./partials/nav %>

    <!-- Contact -->
    <div class="main-content">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="content-heading text-uppercase">Schools</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <% if ( source == 'add-school') { %>
                    <div class="alert alert-success">
                        <strong>Success!</strong> School Added Successfully.
                    </div>
                    <% } %>
                    <div class="table-wrapper">
                        <div class="table-title">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h2>School <b>Details</b></h2>
                                </div>
                                <div class="col-sm-8">
                                    <% if ( source == 'search-school') { %>
                                    <a class="btn btn-info add-new" href="/schools">All Schools</a>
                                    <% } %>
                                    <button type="button" class="btn btn-info add-new" data-toggle="modal"
                                        data-target="#searchSchool"><i class="fa fa-search"></i> Search School By
                                        Name</button>
                                    <button type="button" class="btn btn-info add-new" data-toggle="modal"
                                        data-target="#searchStudent"><i class="fa fa-search"></i> Search Students By
                                        School</button>
                                    <button type="button" class="btn btn-info add-new" data-toggle="modal"
                                        data-target="#addSchool"><i class="fa fa-plus"></i> Add School</button>
                                </div>
                            </div>
                        </div>
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Id</th>
                                    <th>Name</th>
                                    <th>Education Mode</th>
                                    <th>Address</th>
                                    <th>Rating</th>
                                </tr>
                            </thead>
                            <tbody>
                                <% for (var i = 0; i < data.length; i++) { %>
                                <tr>
                                    <td><%= data[i].schoolId %></td>
                                    <td><%= data[i].schoolname %></td>
                                    <td><%= data[i].eduMode %></td>
                                    <td><%= data[i].address.address %>
                                        ,<%= data[i].address.city %>,<%= data[i].address.state %></td>
                                    <%  if(data[i].rating){ %>
                                    <td><%= data[i].rating %></td>
                                    <% }else { %>
                                    <td>0</td>
                                    <% } %>
                                    </tr>
                                <% } %>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="addSchool" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="container modelform">
                        <div class="row">
                            <div class="col-md-3">
                                <div class="modelform-info">
                                    <h2>Add School</h2>
                                </div>
                            </div>
                            <div class="col-md-9">
                                <form action="/add-school" method="POST">
                                    <div class="modelform-form">
                                        <div class="form-group">
                                            <label class="control-label col-sm-10" for="sid">School Id:</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="sid"
                                                    placeholder="Enter School Id" name="sid">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-sm-10" for="sname">School Name:</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="sname"
                                                    placeholder="Enter School Name" name="sname">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-sm-10" for="eduMode">Education Mode:</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="eduMode"
                                                    placeholder="Enter Education Mode" name="eduMode">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-sm-10" for="address">Address:</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="address"
                                                    placeholder="Enter Address" name="address">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-sm-10" for="city">City:</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="city"
                                                    placeholder="Enter City" name="city">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-sm-10" for="state">State:</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="state"
                                                    placeholder="Enter State" name="state">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-sm-offset-2 col-sm-10">
                                                <input type="submit" class="btn btn-info" value="Submit">.
                                                <button class="btn btn-danger" data-dismiss="modal">Close</button>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="searchSchool" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="container modelform">
                        <div class="row">
                            <div class="col-md-3">
                                <div class="modelform-info">
                                    <h2>Search School</h2>
                                </div>
                            </div>
                            <div class="col-md-9">
                                <form action="/search-school" method="POST">
                                    <div class="modelform-form">
                                        <div class="form-group">
                                            <label class="control-label col-sm-10" for="sname">School Name:</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="sname"
                                                    placeholder="Enter School Name" name="sname">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-sm-offset-2 col-sm-10">
                                                <input type="submit" class="btn btn-info" value="Submit">.
                                                <button class="btn btn-danger" data-dismiss="modal">Close</button>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="searchStudent" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="container contact">
                        <div class="row">
                            <div class="col-md-3">
                                <div class="contact-info">
                                    <h2>Search Students By School</h2>
                                </div>
                            </div>
                            <div class="col-md-9">
                                <form action="/search-students" method="POST">
                                    <div class="contact-form">
                                        <div class="form-group">
                                            <label class="control-label col-sm-10" for="sname">School Name:</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" id="sname"
                                                    placeholder="Enter School Name" name="sname">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-sm-offset-2 col-sm-10">
                                                <input type="submit" class="btn btn-info" value="Submit">.
                                                <button class="btn btn-danger" data-dismiss="modal">Close</button>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <% include ./partials/footer %>

</body>

</html>